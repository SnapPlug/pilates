# SnapPilates 릴리즈 노트

## v1.0.0 - 센터별 설정 관리 시스템 (2024-08-20)

### 🎉 주요 기능

#### 📊 **대시보드 시스템**
- **메인 대시보드** (`/dashboard`)
  - 전체 시스템 현황 요약
  - 최근 활동 및 통계 정보
  - 빠른 액세스 메뉴

#### 🏢 **센터별 설정 관리**
- **설정 페이지** (`/settings`)
  - 센터 추가/수정/삭제 기능
  - 센터별 고유 설정 관리:
    - 센터명 (필수)
    - 카카오봇 ID (필수)
    - 카카오 채널 ID (선택)
    - 전화번호 (선택)
    - 이메일 (선택)
    - 주소 (선택)
    - 활성화 상태
  - 직관적인 카드 기반 UI
  - 실시간 데이터 업데이트

- **센터 관리 페이지** (`/management/center`)
  - 센터별 통계 대시보드
  - 기간별 필터링 (주/월/분기/년/사용자 지정)
  - 전체 및 개별 센터 통계:
    - 총 수업 수
    - 총 회원 수
    - 총 예약 수
    - 출석률
  - 센터별 상세 정보 표시

#### 📅 **수업 관리 시스템**
- **수업 시간표** (`/class`)
  - 월간/주간 수업 일정 표시
  - 수업별 상세 정보
  - 강사 정보 연동
  - 반응형 캘린더 UI

#### 👥 **회원 관리 시스템**
- **회원 목록** (`/member`)
  - 회원 정보 조회 및 관리
  - 회원별 상세 정보
  - 회원 검색 및 필터링

- **회원 상세 페이지** (`/member/[id]`)
  - 개별 회원 상세 정보
  - 회원별 예약 내역
  - 회원별 수업 참여 기록

- **멤버십 관리** (`/member/[id]/membership`)
  - 회원별 멤버십 정보
  - 멤버십 이력 관리
  - 멤버십 상태 추적

#### 🎯 **예약 관리 시스템**
- **예약 페이지** (`/reservation`)
  - 수업 예약 기능
  - 실시간 예약 현황
  - 예약 확인 및 취소

- **예약 변경** (`/reservation-change`)
  - 기존 예약 수정
  - 예약 일정 변경

- **예약 관리** (`/reservation-manage`)
  - 예약 현황 관리
  - 출석 상태 관리
  - 예약 통계

#### 👨‍🏫 **강사 관리 시스템**
- **강사 정보** (`/instructor`)
  - 강사 목록 및 상세 정보
  - 강사별 수업 스케줄
  - 강사별 통계

#### 📈 **관리 및 분석**
- **월간 정산** (`/management`)
  - 강사별 월간 통계
  - 수업 및 수강생 통계
  - 출석률 분석
  - CSV 내보내기 기능

#### 🤖 **카카오 챗봇 연동**
- **카카오 API 연동**
  - 카카오 사용자 인증
  - 카카오 ID 매핑
  - 챗봇 링크 생성
  - 센터별 카카오봇 설정

### 🔧 기술적 개선사항

#### 📝 **데이터베이스 관리**
- **센터 설정 테이블** (`center_config`)
  - 센터별 고유 설정 저장
  - 카카오봇 ID 관리
  - 센터 정보 통합 관리

- **출석 관리 시스템**
  - 출석 상태 추적
  - 출석 이력 관리
  - 출석률 계산

- **멤버십 이력 관리**
  - 멤버십 변경 이력
  - 멤버십 상태 추적
  - 데이터 무결성 보장

#### 🛠 **개발 도구 및 유틸리티**
- **표준 로깅 시스템** (`lib/logger.ts`)
  - 구조화된 로깅
  - 디버깅 가이드 준수
  - debugId, 컨텍스트, 상태 정보 포함
  - 클라이언트/서버 공통 사용

- **센터별 데이터 핸들링**
  - `getClassesByCenter()`: 센터별 수업 데이터
  - `getMembersByCenter()`: 센터별 회원 데이터
  - `getReservationsByCenter()`: 센터별 예약 데이터
  - `getCenterStats()`: 센터별 통계 데이터
  - `getAllCentersStats()`: 전체 센터 통계

#### 🎨 **UI/UX 개선**
- **반응형 디자인**
  - 모바일/태블릿/데스크톱 지원
  - 터치 친화적 인터페이스
  - 접근성 고려

- **사이드바 네비게이션**
  - 직관적인 메뉴 구조
  - 아이콘 기반 네비게이션
  - 현재 페이지 표시

- **모달 시스템**
  - 출석 관리 모달
  - 멤버십 관리 모달
  - 사용자 친화적 인터페이스

### 🚀 **배포 및 인프라**

#### ☁️ **Vercel 배포**
- **프로덕션 환경**
  - URL: https://snappliates-hkfy3k36f-jasonjeongs-projects.vercel.app
  - 자동 배포 시스템
  - 빌드 최적화

- **성능 최적화**
  - 정적 페이지 생성 (SSG)
  - 동적 라우팅 최적화
  - 번들 크기 최적화

#### 🔒 **보안 및 인증**
- **Supabase 연동**
  - 안전한 데이터베이스 연결
  - Row Level Security (RLS)
  - 사용자 인증 시스템

### 📋 **API 엔드포인트**

#### 🔄 **회원 관련 API**
- `POST /api/member/auth` - 회원 인증
- `GET /api/member/by-kakao-id` - 카카오 ID로 회원 조회
- `GET /api/member/kakao-data` - 카카오 데이터 조회
- `GET /api/member/kakao-link` - 카카오 링크 생성
- `POST /api/member/kakao-mapping` - 카카오 매핑
- `GET /api/member/reservations` - 회원 예약 조회
- `POST /api/member/simple-mapping` - 간단 매핑
- `POST /api/member/update-kakao-id` - 카카오 ID 업데이트

#### 📅 **예약 관련 API**
- `GET /api/reservation/by-kakao-id` - 카카오 ID로 예약 조회
- `POST /api/reservation/cancel` - 예약 취소

#### ✅ **출석 관련 API**
- `POST /api/attendance/update` - 출석 상태 업데이트

#### 🐛 **디버깅 API**
- `GET /api/debug-kakao-mapping` - 카카오 매핑 디버깅
- `GET /api/debug-uuid` - UUID 디버깅

### 🐛 **버그 수정**
- 출석 컬럼 타입 오류 수정
- 멤버십 이력 제약 조건 수정
- 예약 삭제 정책 수정
- 업데이트 시간 오류 수정

### 📚 **문서화**
- **카카오 챗봇 연동 가이드** (`docs/kakao-chatbot-integration.md`)
- **RLS 클래스 전환 가이드** (`docs/rls-class-transition.md`)
- **개발 가이드라인** (`.cursorrules`)

### 🔄 **향후 계획**
- [ ] 실시간 알림 시스템
- [ ] 고급 분석 대시보드
- [ ] 모바일 앱 개발
- [ ] 결제 시스템 연동
- [ ] 다국어 지원

---

## 📞 **지원 및 문의**
- **개발팀**: SnapPilates Development Team
- **배포 환경**: Vercel
- **데이터베이스**: Supabase
- **버전**: v1.0.0

---

*이 릴리즈 노트는 SnapPilates 시스템의 현재 기능을 완전히 문서화합니다.*
