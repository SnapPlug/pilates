# Release Notes

## Version 0.2.0 (2025-01-27)

### 🎯 주요 기능 추가

#### 1. 시스템 설정 페이지 완전 개편
- **iPhone 스타일 설정 UI** 구현
- **강사명 표시/숨김** 설정 추가
- **수업명 표시/숨김** 설정 추가
- **달력 보기 설정** (1주/2주/1달) 추가
- **1주간 권장 수업수** 설정 추가
- **회원권 잔여 기간 관리** (3일/7일/14일) 설정 추가

#### 2. 회원권 등록 시스템 대폭 개선
- **자동 만료일 계산** 기능 구현
- **10회권, 20회권, 50회권** 선택 옵션 추가
- **설정 기반 만료일 자동 계산** (1주간 권장 수업수 기준)
- **실시간 설정 반영** (폴링 방식)

#### 3. 대시보드 월별 필터링 시스템
- **월별 통계 필터링** 완전 구현
- **모든 데이터의 월별 동기화** (회원, 예약, 출석, 잔여횟수 등)
- **동적 제목 업데이트** (선택된 월 표시)
- **실시간 데이터 업데이트**

#### 4. 예약 페이지 동적 표시 시스템
- **설정 기반 강사명/수업명 표시/숨김**
- **설정 기반 달력 보기 모드** (1주/2주/1달)
- **실시간 설정 반영**

### 🔧 기술적 개선사항

#### 1. 데이터베이스 스키마 개선
- **system_settings 테이블** 생성 및 관리
- **membership_history 테이블** 제약 조건 최적화
- **데이터 무결성** 강화

#### 2. API 시스템 구축
- **`/api/settings`** 엔드포인트 구현
- **GET/POST 메서드** 지원
- **실시간 설정 동기화** 시스템

#### 3. 상태 관리 최적화
- **React Context** 기반 설정 관리
- **폴링 방식** 실시간 업데이트
- **에러 처리** 및 로깅 시스템 강화

### 🐛 버그 수정

#### 1. 회원권 추가 시스템
- **제약 조건 위반 오류** 해결
- **membership_type 필드** 정규화
- **status 필드** NULL 허용 처리

#### 2. 대시보드 데이터 동기화
- **페이지 새로고침 시 데이터 미업데이트** 문제 해결
- **월별 필터 미적용** 문제 해결
- **통계 데이터 불일치** 문제 해결

### 📱 UI/UX 개선

#### 1. 설정 페이지
- **모던한 iPhone 스타일** 디자인
- **직관적인 토글 스위치** 인터페이스
- **반응형 레이아웃** (데스크톱 2열 배치)

#### 2. 대시보드
- **월별 선택기** 추가
- **동적 제목 업데이트**
- **2열 그리드 레이아웃** (잔여횟수/기간별 회원수)

#### 3. 회원권 등록 모달
- **자동 계산 도움말** 추가
- **실시간 만료일 계산** 표시
- **사용자 친화적** 인터페이스

### 🚀 성능 개선

#### 1. 데이터 로딩 최적화
- **단계별 데이터 로딩** (시스템 설정 → 대시보드 데이터)
- **에러 바운더리** 구현
- **로딩 상태** 표시

#### 2. 실시간 업데이트
- **2초 간격 폴링** 시스템
- **효율적인 상태 관리**
- **메모리 누수 방지**

### 🔒 보안 및 안정성

#### 1. 데이터 검증
- **입력값 유효성 검사** 강화
- **SQL 인젝션 방지**
- **에러 로깅** 시스템

#### 2. 권한 관리
- **RLS (Row Level Security)** 적용
- **인증된 사용자만** 접근 가능
- **데이터 접근 제어** 강화

### 📋 설치 및 배포

#### 1. 환경 요구사항
- Node.js 18+ 
- Next.js 15.4.6
- Supabase 프로젝트 설정

#### 2. 배포 명령어
```bash
npm run build:prod
npm start
```

#### 3. 환경 변수
- `NEXT_PUBLIC_SUPABASE_URL`
- `NEXT_PUBLIC_SUPABASE_ANON_KEY`

### 🔄 마이그레이션 가이드

#### 1. 데이터베이스 업데이트
- `create_system_settings_table.sql` 실행
- `fix_membership_type_constraint.sql` 실행 (필요시)

#### 2. 설정 초기화
- 시스템 설정 페이지에서 기본값 설정
- 회원권 등록 시스템 테스트

### 📈 향후 계획

#### 1. 다음 버전 (0.3.0) 예정 기능
- **알림 시스템** 구현
- **보고서 생성** 기능
- **데이터 내보내기** 기능

#### 2. 장기 계획
- **모바일 앱** 개발
- **AI 기반 예측** 시스템
- **고급 분석** 도구

---

**개발팀**: SnapPliates Development Team  
**릴리즈 날짜**: 2025-01-27  
**버전**: 0.2.0
